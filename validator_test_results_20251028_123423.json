{
  "results": [
    {
      "query": "What are my holdings?",
      "expected_result": "pass",
      "actual_result": "pass",
      "expected_failed_agent": null,
      "actual_failed_agent": null,
      "reason": null,
      "pass": true
    },
    {
      "query": "Compare Tesla and Microsoft",
      "expected_result": "fail",
      "actual_result": "fail",
      "expected_failed_agent": "PlannerAgent",
      "actual_failed_agent": "QueryClassificationAgent",
      "reason": "Misclassified intent as portfolio instead of market",
      "pass": false
    },
    {
      "query": "Show me Amazon's performance",
      "expected_result": "fail",
      "actual_result": "fail",
      "expected_failed_agent": "PortfolioAgent",
      "actual_failed_agent": "QueryClassificationAgent",
      "reason": "Misclassified intent as 'portfolio' instead of 'market' for a general company performance query.",
      "pass": false
    },
    {
      "query": "What's the market sentiment today?",
      "expected_result": "pass",
      "actual_result": "fail",
      "expected_failed_agent": null,
      "actual_failed_agent": "PlannerAgent",
      "reason": "Did not plan to call MarketAgent to fetch sentiment data for a 'market' intent query.",
      "pass": false
    },
    {
      "query": "How are they performing?",
      "expected_result": "pass",
      "actual_result": "fail",
      "expected_failed_agent": null,
      "actual_failed_agent": "QueryClassificationAgent",
      "reason": "Extracted entities ['TSLA', 'MSFT'] were not present in the original query 'How are they performing?'.",
      "pass": false
    },
    {
      "query": "How is Tesla performing?",
      "expected_result": "fail",
      "actual_result": "fail",
      "expected_failed_agent": "QueryClassificationAgent",
      "actual_failed_agent": "QueryClassificationAgent",
      "reason": "Misclassified intent as 'unknown' instead of 'market' for a market intelligence query.",
      "pass": true
    },
    {
      "query": "Show my portfolio allocation by sector",
      "expected_result": "fail",
      "actual_result": "fail",
      "expected_failed_agent": "ResponseGeneratorAgent",
      "actual_failed_agent": "PortfolioAgent",
      "reason": "Output is incomplete and does not represent an allocation by sector as requested.",
      "pass": false
    },
    {
      "query": "Does Apple's earnings affect my portfolio?",
      "expected_result": "pass",
      "actual_result": "fail",
      "expected_failed_agent": null,
      "actual_failed_agent": "PlannerAgent",
      "reason": "Planner's output 'function_calls' is incomplete for a hybrid query. It did not plan for fetching market news or earnings data for Apple, which is essential to answer the original query.",
      "pass": false
    },
    {
      "query": "What happened to Apple in the news?",
      "expected_result": "fail",
      "actual_result": "fail",
      "expected_failed_agent": "MarketAgent",
      "actual_failed_agent": "PlannerAgent",
      "reason": "Did not plan any function when it should have called MarketAgent for a market intent query.",
      "pass": false
    },
    {
      "query": "Tell me my portfolio value",
      "expected_result": "fail",
      "actual_result": "fail",
      "expected_failed_agent": "PlannerAgent",
      "actual_failed_agent": "ResponseGeneratorAgent",
      "reason": "Response contains entities (TSLA, MSFT) not found in the structured outputs of previous agents.",
      "pass": false
    },
    {
      "query": "How is it performing?",
      "expected_result": "fail",
      "actual_result": "fail",
      "expected_failed_agent": "QueryClassificationAgent",
      "actual_failed_agent": "PortfolioAgent",
      "reason": "Output is only 'status: success' instead of meaningful structured portfolio data (e.g., returns).",
      "pass": false
    },
    {
      "query": "What\u2019s happening with Apple and my portfolio?",
      "expected_result": "fail",
      "actual_result": "fail",
      "expected_failed_agent": "MarketAgent",
      "actual_failed_agent": "PlannerAgent",
      "reason": "PlannerAgent did not plan for market data retrieval related to 'Apple' (AAPL), despite the 'hybrid' intent and 'AAPL' entity identified by the QueryClassificationAgent. It only planned for portfolio returns.",
      "pass": false
    },
    {
      "query": "How is Tesla performing?",
      "expected_result": "fail",
      "actual_result": "fail",
      "expected_failed_agent": "ResponseGeneratorAgent",
      "actual_failed_agent": "QueryClassificationAgent",
      "reason": "Misclassified intent as portfolio instead of market for a general performance query.",
      "pass": false
    },
    {
      "query": "Show me market overview",
      "expected_result": "pass",
      "actual_result": "fail",
      "expected_failed_agent": null,
      "actual_failed_agent": "PlannerAgent",
      "reason": "PlannerAgent output an empty list of function calls, but the MarketAgent was subsequently called and produced relevant output. PlannerAgent should have planned a call to the MarketAgent.",
      "pass": false
    }
  ],
  "metrics": {
    "total_cases": 14,
    "accuracy": 14.285714285714285
  }
}