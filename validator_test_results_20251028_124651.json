{
  "results": [
    {
      "query": "What are my holdings?",
      "expected_result": "pass",
      "actual_result": "pass",
      "expected_failed_agent": null,
      "actual_failed_agent": null,
      "reason": null,
      "pass": true
    },
    {
      "query": "Compare Tesla and Microsoft",
      "expected_result": "fail",
      "actual_result": "fail",
      "expected_failed_agent": "PlannerAgent",
      "actual_failed_agent": "QueryClassificationAgent",
      "reason": "Misclassified intent as portfolio instead of market. The query 'Compare Tesla and Microsoft' refers to market intelligence, not portfolio holdings.",
      "pass": false
    },
    {
      "query": "Show me Amazon's performance",
      "expected_result": "fail",
      "actual_result": "fail",
      "expected_failed_agent": "PortfolioAgent",
      "actual_failed_agent": "QueryClassificationAgent",
      "reason": "Misclassified intent as 'portfolio' instead of 'market'. The query asks for a company's general performance, not specific portfolio holdings.",
      "pass": false
    },
    {
      "query": "What's the market sentiment today?",
      "expected_result": "pass",
      "actual_result": "fail",
      "expected_failed_agent": null,
      "actual_failed_agent": "PlannerAgent",
      "reason": "Did not plan to call MarketAgent to fetch market sentiment data.",
      "pass": false
    },
    {
      "query": "How are they performing?",
      "expected_result": "pass",
      "actual_result": "fail",
      "expected_failed_agent": null,
      "actual_failed_agent": "QueryClassificationAgent",
      "reason": "Entities ['TSLA', 'MSFT'] were inferred without explicit mention in the ambiguous query 'How are they performing?'.",
      "pass": false
    },
    {
      "query": "How is Tesla performing?",
      "expected_result": "fail",
      "actual_result": "fail",
      "expected_failed_agent": "QueryClassificationAgent",
      "actual_failed_agent": "QueryClassificationAgent",
      "reason": "Misclassified intent as unknown; should be market",
      "pass": true
    },
    {
      "query": "Show my portfolio allocation by sector",
      "expected_result": "fail",
      "actual_result": "fail",
      "expected_failed_agent": "ResponseGeneratorAgent",
      "actual_failed_agent": "ResponseGeneratorAgent",
      "reason": "Irrelevant or missing response: The agent produced an empty text output despite receiving valid structured data.",
      "pass": true
    },
    {
      "query": "Does Apple's earnings affect my portfolio?",
      "expected_result": "pass",
      "actual_result": "fail",
      "expected_failed_agent": null,
      "actual_failed_agent": "PlannerAgent",
      "reason": "Incomplete plan for hybrid intent; missing function call to fetch market data related to 'Apple's earnings'.",
      "pass": false
    },
    {
      "query": "What happened to Apple in the news?",
      "expected_result": "fail",
      "actual_result": "fail",
      "expected_failed_agent": "MarketAgent",
      "actual_failed_agent": "PlannerAgent",
      "reason": "Did not plan any function call despite a clear 'market' intent and entity 'AAPL', which should have led to a MarketAgent call.",
      "pass": false
    },
    {
      "query": "Tell me my portfolio value",
      "expected_result": "fail",
      "actual_result": "fail",
      "expected_failed_agent": "PlannerAgent",
      "actual_failed_agent": "PlannerAgent",
      "reason": "PlannerAgent chose 'get_holdings' function, which does not directly address the original query 'Tell me my portfolio value'.",
      "pass": true
    },
    {
      "query": "How is it performing?",
      "expected_result": "fail",
      "actual_result": "fail",
      "expected_failed_agent": "QueryClassificationAgent",
      "actual_failed_agent": "PortfolioAgent",
      "reason": "Empty output; did not return structured data despite 'success' status, which is needed for subsequent steps.",
      "pass": false
    },
    {
      "query": "What\u2019s happening with Apple and my portfolio?",
      "expected_result": "fail",
      "actual_result": "fail",
      "expected_failed_agent": "MarketAgent",
      "actual_failed_agent": "PlannerAgent",
      "reason": "Did not plan for market data/news related to 'AAPL' despite 'hybrid' intent and 'AAPL' entity.",
      "pass": false
    },
    {
      "query": "How is Tesla performing?",
      "expected_result": "fail",
      "actual_result": "fail",
      "expected_failed_agent": "ResponseGeneratorAgent",
      "actual_failed_agent": "QueryClassificationAgent",
      "reason": "Misclassified intent as portfolio instead of market",
      "pass": false
    },
    {
      "query": "Show me market overview",
      "expected_result": "pass",
      "actual_result": "fail",
      "expected_failed_agent": null,
      "actual_failed_agent": "PlannerAgent",
      "reason": "PlannerAgent output an empty plan (function_calls: []), but the workflow proceeded to execute MarketAgent.",
      "pass": false
    }
  ],
  "metrics": {
    "total_cases": 14,
    "accuracy": 28.57142857142857
  }
}